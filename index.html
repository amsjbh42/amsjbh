<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Proxy Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
:root {
  --primary: #3B82F6;
  --secondary: #10B981;
  --bg: #F3F4F6;
  --surface: #FFFFFF;
  --text: #1F2937;
  --error: #EF4444;
  --radius: 12px;
  --shadow: 0 4px 12px rgba(0,0,0,0.1);
}
* { margin:0; padding:0; box-sizing:border-box; font-family:'Inter', sans-serif; }
body {
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:20px;
}
h1 {
  color: var(--primary);
  margin-bottom: 20px;
  text-align:center;
  font-size: 32px;
  font-weight:600;
}
.channel-card {
  background: var(--surface);
  border-radius: var(--radius);
  padding: 15px;
  box-shadow: var(--shadow);
  margin-bottom: 30px;
  text-align: center;
  cursor: pointer;
  transition: transform 0.2s;
}
.channel-card:hover { transform: translateY(-2px); }
.channel-card h2 { font-size: 18px; color: var(--secondary); }
.group-title {
  color: var(--secondary);
  font-size: 24px;
  font-weight:600;
  margin:40px 0 20px 0;
  text-align:center;
}
.cards {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 15px;
  width:100%;
  max-width:1200px;
}
.card {
  background: var(--surface);
  border-radius: var(--radius);
  padding: 15px;
  box-shadow: var(--shadow);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  transition: transform 0.2s;
  cursor:pointer;
}
.card:hover { transform: translateY(-5px); }
.card-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; }
.proxy-name { font-weight:600; font-size: 16px; color: var(--primary); }
.status { width:12px; height:12px; border-radius:50%; background: var(--secondary); }
.status.offline { background: var(--error); }
.card-footer { display:flex; justify-content:flex-end; }
.btn { background: var(--primary); color:#fff; padding: 8px 12px; border:none; border-radius:8px; cursor:pointer; transition: background 0.2s; text-decoration:none; font-weight:600; font-size: 14px; }
.btn:hover { background: #2563EB; }
.loading { text-align:center; font-size: 18px; color: var(--primary); margin-top:40px; }
.error { text-align:center; font-size: 18px; color: var(--error); margin-top:40px; }
@media (max-width: 768px) {
  .cards { grid-template-columns: 1fr; }
  body { padding: 10px; }
  h1 { font-size: 28px; }
  .channel-card { padding: 12px; }
  .card { padding: 12px; }
}
</style>
</head>
<body>
<h1>ğŸš€ Proxy List</h1>
<div class="channel-card" onclick="openChannel()">
  <h2>ğŸ“¢ Join Our Telegram Channel</h2>
  <p>Bridge Services Support!</p>
</div>
<div id="content"></div>

<script>
const gistURL = "https://raw.githubusercontent.com/amsjbh42/conig/main/output.html";

function openChannel() {
  // Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒ Ø¨Ø§ Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯ØŒ Ø§Ø² window.open Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªØ§ Ø¯Ø± ØªØ¨ Ø¬Ø¯ÛŒØ¯ Ø¨Ø§Ø² Ø´ÙˆØ¯ Ø§Ú¯Ø± Ù…Ù…Ú©Ù† Ø¨Ø§Ø´Ø¯
  window.open('https://t.me/BridgeTestChannel', '_blank');
}

function openProxy(proxy) {
  // Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§ØŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ tg:// Ù…ÛŒâ€ŒØ±ÙˆÛŒÙ…. Ø§Ú¯Ø± ØªÙ„Ú¯Ø±Ø§Ù… Ù†ØµØ¨ Ø¨Ø§Ø´Ø¯ØŒ Ø¨Ø§Ø² Ù…ÛŒâ€ŒØ´ÙˆØ¯.
  // Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒ Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯ØŒ Ø§Ø² window.open Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
  window.open(proxy, '_blank');
}

async function checkOnline(proxy){
  // Ú†Ú© Ø³Ø§Ø¯Ù‡: Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ tg:// Ù‡Ù…ÛŒØ´Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ† ÙØ±Ø¶ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
  return true;
}

async function fetchProxies(){
  const container = document.getElementById('content');
  container.innerHTML = '<div class="loading">Loading proxies... <i class="fas fa-spinner fa-spin"></i></div>';

  try{
    const res = await fetch(gistURL + '?t=' + Date.now());
    const html = await res.text();
    const temp = document.createElement('div');
    temp.innerHTML = html;
    const groups = temp.querySelectorAll('h3');
    if(groups.length === 0){
      container.innerHTML='<div class="error">No groups found. ğŸ˜”</div>';
      return;
    }

    container.innerHTML = '';
    let globalIndex = 1;
    for(const group of groups){
      const groupName = group.textContent.trim();
      const ul = group.nextElementSibling;
      if(!ul || ul.tagName !== 'UL') continue;
      const lis = ul.querySelectorAll('li');
      if(lis.length === 0) continue;

      // Add group title
      const groupDiv = document.createElement('div');
      groupDiv.innerHTML = `<div class="group-title">${groupName}</div>`;
      container.appendChild(groupDiv);

      // Add cards for this group
      const cardsDiv = document.createElement('div');
      cardsDiv.className = 'cards';

      for(const li of lis){
        const a = li.querySelector('a');
        if(!a) continue;
        const proxy = a.href;
        const name = `Proxy ${globalIndex}`;
        globalIndex++;
        const isOnline = await checkOnline(proxy);

        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="card-header">
            <div class="proxy-name">${name}</div>
            <div class="status ${isOnline?'':'offline'}"></div>
          </div>
          <div class="card-footer">
            <span class="btn"><i class="fab fa-telegram-plane"></i>Add to Telegram</span>
          </div>
        `;

        card.addEventListener('click', ()=>{
          openProxy(proxy);
        });

        cardsDiv.appendChild(card);
      }
      container.appendChild(cardsDiv);
    }
  }catch(e){
    container.innerHTML='<div class="error">âŒ Error fetching data. Please refresh the page. <i class="fas fa-exclamation-triangle"></i></div>';
  }
}

fetchProxies();
setInterval(fetchProxies,3600000); // Every 1 hour
</script>
</body>
</html>
